<!DOCTYPE html>
<html>
    <head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Pong!</title>
		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>  
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </head>
	  
    
<body class="bg-black text-white vh-100">

   <!-- category screen -->
   <div id="category-screen" class="vh-100 bg-cover text-center">
		<header class="bg-danger-subtle py-1 position-sticky top-0 z-index-1050">
			<div class="container d-flex justify-content-between align-items-center">
			  <div id="logo" class="text-black text-decoration-none fs-5 fw-bold">Pong!</div>
			  <nav id="topbar-nav">
				<ul class="nav">
				  <li class="nav-item logged-out"><a class="nav-link text-black" href="#login">Login</a></li>
				  <li class="nav-item logged-in"><a class="nav-link text-black" href="#logout">Logout</a></li>
				  <li class="nav-item logged-in"><a class="nav-link text-black" href="#profile">Profile</a></li>
				</ul>
			  </nav>
			</div>
		</header>

		 <!-- Main Menu Layout -->
		 <div class="d-flex flex-column justify-content-center align-items-center px-5">
			<div class="mt-5">
                <img src="title.png" alt="Game Title" class="img-fluid">
            </div>
	
			<!-- Local Games Section -->
			<h3 class="mt-4 text-light">üéÆ Local Games</h3>
			<div class="d-grid gap-2 col-4 mx-auto">
				<button id="local-game-button" class="btn btn-outline-light btn-md">Player vs Player</button>
				<button id="local-tournament-button" class="btn btn-outline-light btn-md">Tournament</button>
			</div>
	
			<!-- Online Games Section -->
			<h3 class="mt-4 text-light">üåê Online Games</h3>
			<div class="d-grid gap-2 col-4 mx-auto">
				<button id="PvC" class="btn btn-outline-light btn-md">Player vs Computer</button>
				<button id="PvP" class="btn btn-outline-light btn-md">Remote Player vs Player</button>
				<button id="tournament-button" class="btn btn-outline-light btn-md">Remote Tournament</button>
			</div>
		</div>
    </div>

	<!-- Login Screen -->
	<div id="login-screen" class="d-none d-flex flex-column justify-content-center align-items-center bg-cover text-center px-2">
		<h2 class="mt-5">Login</h2>
		<form id="login-form" class="text-center w-40">
			<input type="text" id="login-alias" class="form-control mb-3" placeholder="Enter your alias" required maxlength="20">
			<input type="password" id="login-password" class="form-control mb-3" placeholder="Enter your password" required>
			<div class="d-grid gap-2 mx-auto">
                <button type="submit" class="btn btn-outline-light btn-lg mb-3">Login</button>
                <div><p>Don't have an account? <button id="signup-button" class="btn btn-outline-success btn-sm">Sign Up</button></p></div>
                <p>---------------------- OR ----------------------</p>
                <button id="login-42-button" class="btn btn-outline-primary btn-lg mb-3">Login with <img src="42logo.png" style="height: 24px"></button>
            </div>
		</form>
		<button id="login-exit" class="btn btn-outline-info btn-sm mt-2 mb-4">Back to menu</button>
	</div>
	
	<!-- Sign Up Screen -->
	<div id="signup-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1>Sign Up</h1>
		<form id="signup-form" class="text-center w-50" method="POST" enctype="multipart/form-data">
			<input type="text" id="signup-alias" class="form-control mb-3" placeholder="Create your alias" required maxlength="20">
			<input type="password" id="signup-password" class="form-control mb-3" placeholder="Create a secure password" required>
			<input type="email" id="signup-email" class="form-control mb-3" placeholder="Enter your email" required>
			<div class="d-grid gap-2 mx-auto">
                <label for="signup-avatar" style="cursor: pointer;" class="btn btn-outline-light">
                    Upload Avatar
                </label>
                <input type="file" id="signup-avatar" class="d-none" accept="image/*" name="avatar">
                <p id="avatar-filename" class="mt-2 text-light">No file selected</p>
				<button type="submit" class="btn btn-outline-success btn-lg">Sign Up</button>
			</div>
		</form>
		<button id="signup-exit" class="btn btn-outline-info btn-sm mt-3">Back to menu</button>
	</div>


    <!-- User profile Screen -->
    <div id="userprofile-screen" 
        class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
        <h2>User Profile</h2>
        <!-- Display View -->
        <div id="profileView" class="text-center w-40">
			<div class="d-grid gap-2 mx-auto">
                <div class="d-flex justify-content-center">
                    <img id="profileAvatar" 
                         class="rounded-circle border border-white img-fluid"
                         style="width: 100px; height: 100px; object-fit: cover;" />
                </div>
				<p><strong>Username:</strong> <span id="profileUsername"></span></p>
				<p><strong>Email:</strong> <span id="profileEmail"></span></p>
				<p><strong>First Name:</strong> <span id="profileFirstName"></span></p>
				<p><strong>Last Name:</strong> <span id="profileLastName"></span></p>
				<p><strong>Wins:</strong> <span id="profileWins"></span></p>  <!-- ‚úÖ Fixed ID -->
            	<p><strong>Losses:</strong> <span id="profileLosses"></span></p> 
				<button id="FriendsPageButton" class="btn btn-outline-warning btn-md mb-2">Friends</button>
				<button id="MatchHistoryButton" class="btn btn-outline-success btn-md mb-2">Match History</button>
			</div>
			<button id="editProfileButton" class="btn btn-outline-light btn-sm mt-3">Edit Profile</button>
			<button id="profile-exit" class="btn btn-outline-info btn-sm mt-3">Back to menu</button>
        </div>

        <!-- Edit View -->
        <div id="profileEdit" class="d-none w-50">
            <form id="editProfileForm" method="POST" enctype="multipart/form-data">
                <div class="mb-3">
                    <label for="editUsername" class="form-label">Username</label>
                    <input type="text" id="editUsername" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="editEmail" class="form-label">Email</label>
                    <input type="email" id="editEmail" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="editFirstName" class="form-label">First Name</label>
                    <input type="text" id="editFirstName" class="form-control">
                </div>
                <div class="mb-3">
                    <label for="editLastName" class="form-label">Last Name</label>
                    <input type="text" id="editLastName" class="form-control">
                </div>
                <div class="mb-3">
                    <label for="editAvatar" style="cursor: pointer;" class="btn btn-outline-info btn-md mb-2">
                        Edit Avatar
                    </label>
                    <input type="file" id="editAvatar" class="d-none" accept="image/*">
                    <p id="avatar-filename-edit" class="mt-2 text-light">No file selected</p>
                </div>
                <button type="submit" class="btn btn-outline-success">Save Changes</button>
                <button type="button" id="cancelEditButton" class="btn btn-outline-warning">Cancel</button>
            </form>
        </div>
    </div>


    <!-- remote player matchmaking screen-->
    <div id="matchmaking-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1 id="waiting-text">Waiting for opponent...</h1>
		<div id="timerDisplay">0s</div>
		<!-- <button id="matchmaking-exit" class="btn btn-lg btn-outline-info mt-3">Back to menu</button> -->
    </div>

    <!-- ai waiting screen-->
    <div id="ai-waiting-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
        <h1 id="waiting-text">Waiting for AI rebellion...</h1>
        <div id="AItimerDisplay">0s</div>
        <!-- <button id="matchmaking-exit" class="btn btn-lg btn-outline-info mt-3">Back to menu</button> -->
    </div>


	<!-- accept screen -->
	<div id="accept-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1 id="accept-text">Accept text...</h1>
		<div class="d-flex flex-row mt-3 gap-3">
			<button id="accept-button" class="btn btn-lg btn-outline-success">Yes</button>
			<button id="reject-button" class="btn btn-lg btn-outline-danger">No</button>
		</div>
	</div>


    <!-- game screen -->
	<div id="game-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<!-- Player Names & Rules -->
        <div class="d-flex w-75 justify-content-between align-items-center text-light mb-2">
            <!-- Left Player Name -->
            <h6 id="left-player-name" 
                class="text-start text-truncate fw-semibold flex-shrink-0 m-0"
                style="width: 25%; font-size: 2vw; white-space: nowrap;">
            </h6>
    
            <p class="mb-1 fw-medium text-center flex-grow-1"
                style="font-size: 2vw; line-height: 1.4; white-space: normal;">
                First to <strong>10 points</strong> wins! <br>
                <strong>Left Paddle:</strong> <kbd>W</kbd> / <kbd>S</kbd> <br>
                <strong>Right Paddle:</strong> <kbd>‚¨Ü</kbd> / <kbd>‚¨á</kbd>
            </p>

            <!-- Right Player Name -->
            <h6 id="right-player-name" 
                class="text-end text-truncate fw-semibold flex-shrink-0 m-0"
                style="width: 25%; font-size: 2vw; white-space: nowrap;">
            </h6>
        </div>
        
        <div class="game-container d-flex flex-column justify-content-center align-items-center overflow-hidden">
			<div id="timerDisplay" class="visually-hidden"></div>
			<canvas id="canvas" class="border border-2 border-white"></canvas>
			<button id="pause-button" class="btn btn-lg btn-outline-light mt-3">Pause</button>
			<button id="game-exit" class="btn btn-lg btn-outline-warning mt-3">Exit</button>
		</div>
	</div>

    <!-- tournament screen -->
	<div id="tournament-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<div class="container-fluid h-100">
			<div class="row h-100">
				<!-- Game Column -->
				<div class="col-9 d-flex flex-column justify-content-center align-items-center">
					<div id="timerDisplay" class="visually-hidden"></div>
					<canvas id="canvas" class="border border-2 border-white w-100"></canvas>
					<button id="tournament-pause-button" class="btn btn-lg btn-outline-light mt-3">Pause</button>
				</div>
	
				<!-- Player Sidebar -->
				<div id="player-sidebar" class="col-3 bg-dark text-light p-3 d-flex flex-column justify-content-center align-items-center">
					<h4 class="text-center mb-4">Round 1</h4>
					<ul class="list-group list-group-flush">
						<li class="list-group-item bg-dark text-success">1. Alice vs Bob</li>
						<li class="list-group-item bg-dark text-light">2. Charlie vs Dave</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<!-- Local game alias Entry Screen -->
	<div id="local-game-alias-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1 class="mb-4">Enter Your Aliases</h1>
		<form id="lg-alias-form" class="text-center">
			<input type="text" id="lg-player1" class="form-control mb-3" placeholder="Player 1 Name" required maxlength="20">
			<input type="text" id="lg-player2" class="form-control mb-3" placeholder="Player 2 Name" required maxlength="20">
			<button type="submit" class="btn btn-outline-light btn-lg mt-3">Start Game</button>
		</form>
	</div>

	<!-- Local tournament alias entry Screen -->
	<div id="local-tournament-alias-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1 class="mb-4">Enter Your Aliases</h1>
		<form id="lt-alias-form" class="text-center">
			<input type="text" id="lt-player1" class="form-control mb-3" placeholder="Player 1 Name" required maxlength="20">
			<input type="text" id="lt-player2" class="form-control mb-3" placeholder="Player 2 Name" required maxlength="20">
			<input type="text" id="lt-player3" class="form-control mb-3" placeholder="Player 3 Name" required maxlength="20">
			<input type="text" id="lt-player4" class="form-control mb-3" placeholder="Player 4 Name" required maxlength="20">
			<button type="submit" class="btn btn-outline-light btn-lg mt-3">Start Game</button>
		</form>
	</div>

    <!-- AI Game Over Screen -->
    <div id="ai-game-over-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
        <h1 id="ai-game-over-message">Game Over!</h1>
        <button type=button id="ai-play-again-button" class="btn btn-lg btn-outline-light mb-3">Play Again</button>
		<button type=button id="ai-back-to-menu" class="btn btn-outline-info btn-lg">Back to menu</button>
    </div>

    <!-- PVP Game Over Screen -->
    <div id="pvp-game-over-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
        <h1 id="pvp-game-over-message" class="mb-3">Game Over!</h1>
		<button type=button id="pvp-add-friend" class="btn btn-outline-info btn-lg mb-3">Add to friends</button>
        <button type=button id="pvp-play-again-button" class="btn btn-outline-light btn-lg mb-3">New game</button>
        <button type=button id="pvp-back-to-menu" class="btn btn-outline-info btn-lg">Back to menu</button>
    </div>

	<!-- Local Game Over Screen -->
	<div id="lg-game-over-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1 id="lg-game-over-message" class="mb-3">Game Over!</h1>
		<button type=button id="lg-play-again-button" class="btn btn-outline-light btn-lg mb-3">Play Again</button>
		<button type=button id="lg-back-to-menu" class="btn btn-outline-info btn-lg">Back to menu</button>
	</div>

	<!-- Local Tournament Game Over Screens -->
	<div id="lt-intermediate-game-over-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1 id="lti-game-over-message" class="mb-3">Game Over!</h1>
		<button type=button id="lt-next-match" class="btn btn-outline-light btn-lg mb-3">Play</button>
	</div>

	<div id="lt-game-over-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
		<h1 id="lt-game-over-message" class="mb-3">Game Over!</h1>
		<button type=button id="lt-back-to-menu" class="btn btn-outline-info btn-lg">Back to menu</button>
	</div>

       <!-- TRNMT Game Over Screen -->
	<div id="trnmt-game-over-screen" class="d-none d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
        <h1 id="trnmt-game-over-message" class="mb-3">placeholder..change me dynamically</h1>
        <button type=button id="trnmt-go-to-next-game-button" class="btn btn-outline-light btn-lg mb-3">Next</button>
        <button type=button id="trnmt-back-to-menu" class="btn btn-outline-info btn-lg">Back to menu</button>
    </div>

	<!-- friends screen -->
	<div id="friends-screen" class="d-none">
		<header class="bg-danger-subtle py-1">
			<div class="container d-flex justify-content-between align-items-center">
				<div id="logo" class="text-black text-decoration-none fs-5 fw-bold">Pong!</div>
			</div>
		</header>
		<div class="d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
			<h1 class="text-light mb-4">Friends List</h1>
			<ul id="friends-list" class="list-group w-75">
				<!-- Example Friends -->
				<li class="list-group-item d-flex justify-content-between align-items-center">
					<span>John Doe</span>
					<span class="badge bg-primary rounded-pill">Online</span>
				</li>
				<li class="list-group-item d-flex justify-content-between align-items-center">
					<span>Jane Smith</span>
					<span class="badge bg-secondary rounded-pill">Offline</span>
				</li>
			</ul>
			<div class="mt-3">
				<button type=button id="friends-back-button" class="btn btn-outline-info btn-lg">Back</button>
			</div>
		</div>
	</div>
	

	<!-- Match History Screen -->
	<div id="match-history-screen" class="d-none">
		<div class="d-flex flex-column justify-content-center align-items-center vh-100 bg-cover text-center px-3">
			<h1 class="text-light mb-4">Match History</h1>
			<div class="table-responsive w-75">
				<table id="match-history-table" class="table table-dark table-striped table-hover">
					<thead>
						<tr>
							<th scope="col">Match ID</th>
							<th scope="col">Opponent</th>
							<th scope="col">Result</th>
							<th scope="col">Date</th>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>
			</div>
			<div class="mt-3">
				<button type=button id="match-back-button" class="btn btn-outline-info btn-lg">Back</button>
			</div>
		</div>
	</div>
    
    <script type="module" src="pong.js"></script>
	<script type="module" src="buttons.js"></script>
	
</body>
</html>